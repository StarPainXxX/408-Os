## 操作系统的概念(定义)

- 操作系统是系统资源的管理者
	- 提供的功能
		- 处理机管理
		- 存储器管理
		- 文件管理
		- 设备管理
	- 目标
		- 安全,高效
- 向上层提供方便易用的服务
- 是最接近硬件的一层软件
## 并发

- 并发:指两个或多个事件在同一时间间隔内同时发生。这些事件宏观上是同时发生的，但在微观上是交替发生的。
- 并行:指两个或多个事件在同一时刻同时发生。

## 共享

- 共享:即资源共享,是指系统中的资源可供多个并发执行的进程共同使用

## 虚拟

- 虚拟:是指把一个物理的实体变为若干个逻辑上的对应物。物理实体(前者)是实际存在的,而逻辑上对应物(后者)是用户感受到的

## 异步

- 异步:在多道程序环境下,允许多个程序并发执行,但资源有限,进程的执行不是一贯到底的,而是走走停停,以不可预知的速度向前推荐,这就是进程的异步性

## Os的发展与分类

- 手工操作阶段 
	- 缺点：人机速度矛盾
- 批处理阶段
	- 单道批处理系统(引入脱机输入输出技术)
		- 优点:缓解人机速度矛盾
		- 缺点:资源利用率依然很低
	- 多道批处理系统(操作系统开始出现)
		- 优点:多道程序并发执行，资源利用率提高
		- 缺点:不提供人机交互功能
- 分时操作系统
	- 优点：提供人机交互功能
	- 缺点：不能优先处理紧急任务
- 实时操作系统
	- 硬实时系统
		- 必须在绝对严格的规定时间内完成处理
	- 软实时系统
		- 能接受偶尔违反时间规定
	- 优点：能处理紧急任务
- 网络操作系统
- 分布式操作系统
- 个人计算机操作系统

## 操作系统的运行机制

- 两种指令
	- 特权指令
	- 非特权指令
- 两种处理器状态
	- 核心态
	- 用户态
- 两种程序
	- 内核程序
	- 应用程序
-  内核态->用户态: 执行一条特权指令———修改PSW的标志为"用户态“，这个动作意味着操作系统将主动让出CPU使用权
- 用户态->内核态: 由"中断"引发，硬件自动完成变态过程，触发中断信号意味着操作系统将强行夺回CPU的使用权
## 中断和异常

- 中断的作用
	- 让操作系统内核夺回CPU使用权的唯一途径
- 中断的类型
	- 内中断(也称为”异常“)
		- 陷阱
		- 故障
		- 终止
	- 外中断
		- 时钟中断
		- I/O中断请求
- 中断机制的基本原理 
	- 检查中断信号
		- 内中断：CPU在执行指令时会检查是否有异常发生
		- 外中断：每个指令周期末尾，CPU都会检查是否有外中断信号需要处理
	- 找到相应的中断处理程序
		- 通过”中断向量表“实现

## 系统调用

-  “系统调用”是操作系统提供给应用程序(程序员/编程人员)使用的接口,可以理解为一种可供应用程序调用的特殊函数,应用程序可以通过系统调用来请求获得操作系统内核的服务
- 应用程序通过系统调用请求操作系统的服务。而系统中的各种共享资源都由操作系统内核统一掌管,因此凡是与共享资源有关的操作(如存储配、I/O操作、文件管理等),都必须通过系统调用的方式向操作系统内核提出服务请求,由操作系统内核代为完成。这样可以保证系统的稳定性和安全性,防止用户进行非法操作。
- 系统调用过程
	- 传递系统调用参数→执行陷入指令(用户态)→执行相应的请求内核程序处理系统调用(核心态)→返回应用程序
	- 注意:1.陷入指令是在用户态执行的,执行陷入指令之后立即引发一个内中断,使CPU进入核心态
	 2.发出系统调用请求是在用户态,而对系统调用的相应处理在核心态下进行

## 操作系统的内核

- 时钟管理
	- 实现计时功能
- 中断处理
	- 负责实现中断机制
- 原语
	- 是一种特殊的程序
	- 处于操作系统最底层,是最接近硬件的部分
	- 这种程序的运行具有原子性-----其运行只能一气呵成,不可中断
	- 运行时间较短、调用频繁
- 对系统资源进行管理的功能
	- 进程管理
	- 存储器管理
	- 设备管理
-  ![[屏幕截图 2024-06-18 210145.png]]
- ![[Pasted image 20240618210705.png]]

## 操作系统的引导 

- 探作系统引导:
	- CPU从一个特定主存地址开始,取指令,执行ROM中的引导程序(先进行硬件自检,再开机)
	 - 将磁盘的第一块 -- 主引导记录读入内存,执行磁盘引导程序,扫描分区表
	 - 从活动分区(又称主分区,即安装了操作系统的分区)读入分区引导记录,执行其中的程序
	 - 从根目录下找到完整的操作系统初始化程序(即启动管理器)并执行,完成“开机”的一系列动作

## 虚拟机

-  虚拟机:使用虚拟化技术,将一台物理机器虚拟化为多台虚拟机器(Virtual   Machine,VM),每个虚拟机器都可以独立运行一个操作系统
- ![[Pasted image 20240620094038.png]]
